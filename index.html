        .google-search { background: white; border-radius: 50px; padding: 8px 15px; display: flex; align-items: center; border: 1px solid #e2e8f0; margin: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.03); }
        .google-search input { border: none; outline: none; width: 100%; font-size: 12px; margin-left: 8px; }
    </style>
</head>
<body>

    <div class="app-container">
        <header class="bg-white border-b p-4 sticky top-0 z-50 flex justify-between items-center shadow-sm">
            <div onclick="accederAdmin()" class="flex items-center gap-2 cursor-pointer">
                <div class="w-8 h-8 btn-vibe rounded-lg flex items-center justify-center text-white font-black">V</div>
                <h1 class="text-md font-bold text-slate-900 tracking-tighter">VibePhones<span class="text-blue-600 italic">RD</span></h1>
            </div>
            <a href="https://wa.me/8098182320" class="text-green-500 text-2xl"><i class="fa-brands fa-whatsapp"></i></a>
        </header>

        <main class="p-2">
            <form action="https://www.google.com/search" method="get" target="_blank" class="google-search">
                <i class="fa-brands fa-google text-blue-500 text-sm"></i>
                <input type="text" name="q" placeholder="Buscar especificaciones...">
                <button type="submit" class="text-slate-400 text-xs"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>

            <div class="aviso-sticky text-center shadow-sm">
                <h3 class="text-red-600 font-black text-[9px] uppercase mb-1 italic">‚ö†Ô∏è AVISO IMPORTANTE</h3>
                <p class="text-[10px] text-slate-700 font-semibold leading-tight">
                    Equipos por pedidos: **70% al solicitar** y **30% restante** para la entrega.
                </p>
                <p class="text-[9px] text-blue-700 font-bold mt-1 uppercase italic underline">El equipo se entrega al completar el pago.</p>
            </div>

            <div class="text-center my-4">
                <p class="text-[10px] text-slate-400 uppercase font-bold tracking-widest">Cat√°logo Disponible</p>
            </div>

            <div id="grid-productos" class="grid grid-cols-2 gap-3 mb-8 px-2"></div>

            <section class="bg-white rounded-[20px] p-4 shadow-sm border border-slate-100 mb-6 mx-2">
                <h3 class="text-[10px] font-black text-slate-800 uppercase mb-3 text-center underline decoration-blue-500">Preguntas</h3>
                <div id="lista-comentarios" class="space-y-3 mb-4 max-h-40 overflow-y-auto"></div>
                <div class="flex flex-col gap-2">
                    <input type="text" id="com-nombre" placeholder="Nombre" class="w-full p-2 rounded-lg bg-slate-50 text-[10px] border outline-none">
                    <textarea id="com-texto" placeholder="¬øDuda?" class="w-full p-2 rounded-lg bg-slate-50 text-[10px] border outline-none h-14"></textarea>
                    <button onclick="enviarComentario()" class="btn-vibe text-white py-2 rounded-lg font-black text-[9px] uppercase">Enviar</button>
                </div>
            </section>

            <footer class="text-center py-6 border-t mt-10">
                <p class="text-[10px] font-black text-slate-900 uppercase">VibePhones RD</p>
                <p class="text-[9px] text-slate-400 mt-1">Santo Domingo, Rep√∫blica Dominicana</p>
                <p class="text-[11px] font-bold text-blue-600 mt-2">809-818-2320</p>
            </footer>
        </main>
    </div>

    <div id="modal-carrito">
        <div class="bg-white w-full max-w-[320px] rounded-[25px] p-6 shadow-2xl relative">
            <button onclick="cerrarCarrito()" class="absolute top-4 right-4 text-slate-300 text-xl"><i class="fa-solid fa-circle-xmark"></i></button>
            <h3 class="text-md font-black text-slate-900 mb-4 text-center uppercase italic">Solicitar Equipo</h3>
            <form id="form-compra" class="space-y-3">
                <input type="text" id="c-nombre" placeholder="Nombre completo" required class="w-full p-3 rounded-xl bg-slate-50 border text-xs outline-none">
                <select id="c-metodo" required class="w-full p-3 rounded-xl bg-slate-50 border text-xs outline-none">
                    <option value="APARTADO (70%)">Apartar con el 70%</option>
                    <option value="PAGO TOTAL">Pago Total</option>
                </select>
                <button type="submit" class="w-full btn-vibe py-3.5 rounded-xl font-black text-white uppercase text-[10px]">Generar Orden</button>
            </form>
        </div>
    </div>

    <div id="modal-exito">
        <div class="recibo-blanco">
            <div class="text-blue-600 text-3xl mb-2"><i class="fa-solid fa-circle-check"></i></div>
            <h4 class="text-slate-900 font-black text-[10px] uppercase mb-4">VibePhones RD</h4>
            <div class="border-t border-b border-dashed py-4 mb-4 text-left space-y-2">
                <p class="text-[10px] text-slate-700 font-medium">üì± <span id="r-equipo"></span></p>
                <p class="text-[10px] text-slate-700">üë§ Cliente: <span id="r-nombre"></span></p>
                <p class="text-sm font-black text-blue-700 mt-2 text-center">TOTAL: RD$ <span id="r-total"></span></p>
            </div>
            <button onclick="enviarWhatsApp()" class="w-full bg-[#25D366] py-3.5 rounded-xl text-white font-black text-[9px] uppercase flex items-center justify-center gap-2">
                <i class="fa-brands fa-whatsapp text-lg"></i> Confirmar pedido
            </button>
        </div>
    </div>

    <div id="panel-admin">
        <div class="max-w-xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-black italic">VIBE ADMIN</h2>
                <button onclick="cerrarAdmin()" class="text-red-500 font-bold text-xs uppercase underline">Cerrar</button>
            </div>
            <div class="bg-slate-50 p-5 rounded-xl border space-y-3">
                <input type="text" id="ad-nombre" placeholder="Nombre Equipo" class="w-full p-3 rounded-lg border text-sm">
                <input type="number" id="ad-precio" placeholder="Precio RD$" class="w-full p-3 rounded-lg border text-sm">
                <input type="file" id="ad-file" accept="image/*" class="w-full p-2 bg-white text-[10px]">
                <button onclick="procesarSubida()" id="btn-publicar" class="w-full btn-vibe py-3 rounded-lg text-white font-black uppercase text-xs">Publicar</button>
            </div>
            <div id="admin-lista-borrar" class="mt-8 space-y-2"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot, query, orderBy, addDoc, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        
        const firebaseConfig = { apiKey: "AIzaSyCdn4m4n3Aezuttg8E31DmipXLz0dBueU", projectId: "tiendacelularesrd-f0795", appId: "1:264926688681:web:4d2c5aa50ea2bce0e100b8" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        let selProd = {};

        window.enviarComentario = async () => {
            const n = document.getElementById('com-nombre').value, t = document.getElementById('com-texto').value;
            if(n && t) {
                await addDoc(collection(db, "comentarios"), { n, t, creado: Date.now() });
                document.getElementById('com-nombre').value = ""; document.getElementById('com-texto').value = "";
            }
        };

        onSnapshot(query(collection(db, "comentarios"), orderBy("creado", "desc")), (snap) => {
            const ctn = document.getElementById('lista-comentarios'); ctn.innerHTML = "";
            snap.forEach(s => {
                const d = s.data();
                ctn.innerHTML += `<div class="bg-slate-50 p-2.5 rounded-xl border-l-4 border-blue-500"><p class="text-[8px] font-black uppercase">${d.n}</p><p class="text-[10px] text-slate-600">${d.t}</p></div>`;
            });
        });

        document.getElementById('form-compra').onsubmit = (e) => {
            e.preventDefault();
            document.getElementById('r-nombre').innerText = document.getElementById('c-nombre').value;
            document.getElementById('r-equipo').innerText = selProd.n;
            document.getElementById('r-total').innerText = selProd.p;
            document.getElementById('modal-carrito').style.display = 'none';
            document.getElementById('modal-exito').style.display = 'flex';
        };

        window.enviarWhatsApp = () => {
            const n = document.getElementById('c-nombre').value, m = document.getElementById('c-metodo').value;
            const msg = encodeURIComponent(`üì¶ *NUEVA ORDEN VIBE*\n‚úÖ Tipo: ${m}\nüì± Equipo: ${selProd.n}\nüí∞ Monto: RD$ ${selProd.p}\nüë§ Cliente: ${n}`);
            window.open(`https://wa.me/8098182320?text=${msg}`);
        };

        window.accederAdmin = () => { if(prompt("Acceso:") === "Avd121094") document.getElementById('panel-admin').style.display = 'block'; };
        window.cerrarAdmin = () => document.getElementById('panel-admin').style.display = 'none';
        window.cerrarCarrito = () => document.getElementById('modal-carrito').style.display = 'none';

        window.procesarSubida = async () => {
            const f = document.getElementById('ad-file').files[0], n = document.getElementById('ad-nombre').value, p = document.getElementById('ad-precio').value;
            if(!f || !n || !p) return alert("Faltan datos");
            const btn = document.getElementById('btn-publicar'); btn.disabled = true; btn.innerText = "Subiendo...";
            const fd = new FormData(); fd.append("image", f);
            const res = await fetch("https://api.imgbb.com/1/upload?key=6d302d99d3d3a1f1d9a2a904d9b7577e", { method: "POST", body: fd });
            const data = await res.json();
            await addDoc(collection(db, "productos"), { n, p, img: data.data.url, creado: Date.now() });
            location.reload();
        };

        onSnapshot(query(collection(db, "productos"), orderBy("creado", "desc")), (snap) => {
            const grid = document.getElementById('grid-productos'); 
            const lista = document.getElementById('admin-lista-borrar');
            grid.innerHTML = ""; lista.innerHTML = "";
            snap.forEach(s => {
                const d = s.data(), id = s.id, price = Number(d.p).toLocaleString();
                grid.innerHTML += `
                    <div class="card-tech flex flex-col">
                        <img src="${d.img}" class="img-tech">
                        <div class="p-2.5">
                            <h3 class="text-[8px] font-black truncate uppercase">${d.n}</h3>
                            <p class="text-[10px] font-black text-blue-600 mb-2 italic">RD$ ${price}</p>
                            <button onclick="abrirCarrito('${d.n}', '${price}')" class="w-full btn-vibe py-1.5 rounded-lg text-white font-black text-[8px] uppercase">Pedir</button>
                        </div>
                    </div>`;
                lista.innerHTML += `<div class="flex justify-between p-2 bg-white border rounded-lg items-center"><span class="text-[9px] font-bold text-slate-500">${d.n}</span><button onclick="borrarItem('${id}')" class="text-red-500 font-bold text-[8px]">X</button></div>`;
            });
        });

        window.abrirCarrito = (n, p) => { selProd = { n, p }; document.getElementById('modal-carrito').style.display = 'flex'; };
        window.borrarItem = async (id) => { if(confirm("¬øEliminar?")) await deleteDoc(doc(db, "productos", id)); };
    </script>
</body>
                </html>
                
